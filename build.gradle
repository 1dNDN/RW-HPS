apply plugin: "java"

version '1.0'

sourceCompatibility = 1.8

repositories{
	maven{ url "http://maven.aliyun.com/nexus/content/groups/public/"}
	jcenter()
	mavenCentral()
}

ext{
	//the build number that this plugin is made for
}

dependencies{
	implementation group: 'io.netty', name: 'netty-all', version: '5.0.0.Alpha2'
}

jar{
	from{
		configurations.runtimeClasspath.collect{it.isDirectory() ? it : zipTree(it)}
	}

	manifest {
		attributes 'Main-Class': 'com.github.dr.rwserver.Main'
	}
}

tasks.withType(JavaCompile) {  
	options.encoding = "UTF-8"  
	options.compilerArgs << "-Xlint:unchecked" << "-Werror"
	options.compilerArgs << "-Xdiags:verbose" << "-Werror"
	options.compilerArgs << "-Xlint:deprecation" << "-Werror"
}